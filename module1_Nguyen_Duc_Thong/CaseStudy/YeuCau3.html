<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>YeuCau2 Task2</title>
</head>
<body>
<script>
    let checkvalidate = false;
    let emailcustomer;
    let birtdaycustomer;
    let idcard;
    let discount;
    let numberOfAccomanying;
    let rentday;
    let nameCostumer = prompt("Enter the name costumer :");
    let tenChuyenHoa="" ;

    // Dua ten ve dinh gian cho san
    nameCostumer = nameCostumer.trim().toLocaleLowerCase();
    for(let i =0; i<nameCostumer.length; i++){
        if (nameCostumer.charAt(i)===' '&&nameCostumer.charAt(i+1)===' '){
            continue;
        }
        if (i===0||nameCostumer.charAt(i-1)===' '){
            tenChuyenHoa+=nameCostumer.charAt(i).toLocaleUpperCase();
            continue;
        }
        tenChuyenHoa+=nameCostumer.charAt(i);
    }
    nameCostumer=tenChuyenHoa;
    // dua ten ve dung dinh dang xongggggggggggggg

    // nhap so ngay thue nguyen duong
    do { checkvalidate=false;
        rentday=prompt("Enter the rentday: ");
        if (!isNaN(rentday)){
            rentday=Number.parseFloat(rentday);
            if (rentday>=0&&Number.isInteger(rentday)){
                checkvalidate=true;
            }
            else {alert("rentday is invaid!!! Please try again")}
        }
        else {alert("rentday is invaid!!! Please try again")}
    }while (!checkvalidate);
    // nhap so nguyen duong cho so ngay thue xong

    // nhap so giam gia lon hon hoac bang 0
    do {
        checkvalidate=false;
        discount=prompt("Enter discount : ");
        if (!isNaN(discount)){
            discount=Number.parseFloat(discount);
            if (discount>=0){
                checkvalidate=true;
            }
            else {alert("discount is invaid!!! Please try again");}
        }
        else {alert("discount is invaid!!! Please try again");}
    }while(!checkvalidate)
    // nhap dung gia tri giam gia xonggggggggggggggg

    // nhap so nguoi di cung la so nguyen duong
    do {
        checkvalidate= false;
        numberOfAccomanying=prompt("Enter the numberOfAccomanying: ");
        if (!isNaN(numberOfAccomanying)){
            numberOfAccomanying=Number.parseFloat(numberOfAccomanying);
            if (numberOfAccomanying>=0&&Number.isInteger(numberOfAccomanying)){
                checkvalidate=true
            }
            else {alert("numberOfAccomanying is invaid!!! Please try again");}
        }
        else {alert("numberOfAccomanying is invaid!!! Please try again");
        }
    }while (!checkvalidate);
    // nhap so nguoi di cung la so nguyen duong xongggggggggggggggggg

    // nhap dung dinh dang CMND
    do {
        checkvalidate=false;
        idcard=prompt("enter ID Card customer: ");
        if (isNaN(idcard)){
            alert("idcard is invaid!!! Please try again");
            continue;}
        idcard= Number.parseFloat(idcard);
        if (!Number.isInteger(idcard)){
            alert("idcard is invaid!!! Please try again");
            continue;}
        if (idcard>=100000000&&idcard<=999999999){
            checkvalidate=true;
        }
        else {alert("idcard is invaid!!! Please try again ");}
    }
    while (!checkvalidate);
    // kiem tra CMND xonggggggggggggggggggggggggggggggg


    // nhap ngay sinh va kiem tra
    do {
        checkvalidate = false;
        birtdaycustomer = prompt("Enter birtday Customer(dd/MM/YYYY): ");
        if (birtdaycustomer.charAt(2) !== '/' || birtdaycustomer.charAt(5) !== '/') {
            alert("birthday is invaid!!! Please try again");
            continue;
        }
        let day = birtdaycustomer.substring(0, 2);
        let month = birtdaycustomer.substring(3, 5);
        let year = birtdaycustomer.substring(6, 10);
        if (!isNaN(day) && !isNaN(month) && !isNaN(year)) {
            day = Number.parseFloat(day);
            month = Number.parseFloat(month);
            year = Number.parseFloat(year);
            if (Number.isInteger(day) && Number.isInteger(month) && Number.isInteger(year)) {
                if (day < 32 && day > 0 && month > 0 && month < 13 && year < 2021 && year > 1900) {
                    checkvalidate = true
                } else {
                    alert("birthday is invaid!!! Please try again")
                }
            }
        }
    }
    while (!checkvalidate);
    // kiem tra ngay thang xongggggggggggggggggggggggggggggggggggggggggggg

    // nhap email kiem tra dinh dang
    do{ checkvalidate=true;
        emailcustomer=prompt("Enter Email Customer: ");
        let countdoc=0;
        let countAt=0;
        for (let i=0;i<emailcustomer.length;i++){
            if (emailcustomer.charAt(i)==="@"){
                countAt ++;
            }
            if (emailcustomer.charAt(i)==="."){
                countdoc ++;
            }
        }
        if (countAt!==1 || countdoc<1){
            checkvalidate = false;
            alert("email is invalid!!! Please try again");
        }
    }
    while (!checkvalidate);
    // kiem tra email xongggggggggggggggggggggggggggggggggggggggggggggggggggggg

    alert("nameCostumer :  " +nameCostumer+ "\n"+ "emailcustomer: " +emailcustomer+"\n"+"birtdaycustomer: "+birtdaycustomer+"\n"+"idcard: "+
        idcard+"\n"+ "discount: "+discount+"\n"+"nameCostumer" +nameCostumer);
</script>
</body>
</html>