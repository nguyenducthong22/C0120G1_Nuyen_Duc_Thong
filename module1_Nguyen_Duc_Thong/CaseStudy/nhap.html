<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>YeuCau2 Task2</title>
    </head>
<body>
<script>
    let checkvalidate = false;
    let emailcustomer;
    let birtdaycustomer;
    let idcard;
    let discount;
    let numberOfAccomanying;
    let rentday;
    let nameCostumer = prompt("Enter the name costumer :");
    let tenChuyenHoa="" ;

    // Dua ten ve dinh gian cho san
    nameCostumer = nameCostumer.trim().toLocaleLowerCase();
    for(let i =0; i<nameCostumer.length; i++){
        if (nameCostumer.charAt(i)===' '&&nameCostumer.charAt(i+1)===' '){
            continue;
        }
        if (i===0||nameCostumer.charAt(i-1)===' '){
            tenChuyenHoa+=nameCostumer.charAt(i).toLocaleUpperCase();
            continue;
        }
        tenChuyenHoa+=nameCostumer.charAt(i);
    }
        nameCostumer=tenChuyenHoa;
    // dua ten ve dung dinh dang xongggggggggggggg

    // nhap so ngay thue nguyen duong
    do { checkvalidate=false;
        rentday=prompt("Enter the rentday: ");
        if (!isNaN(rentday)){
            rentday=Number.parseFloat(rentday);
            if (rentday>=0&&Number.isInteger(rentday)){
                checkvalidate=true;
            }
            else {alert("rentday is invaid!!! Please try again")}
        }
        else {alert("rentday is invaid!!! Please try again")}
    }while (!checkvalidate);
    // nhap so nguyen duong cho so ngay thue xong

    // nhap so giam gia lon hon hoac bang 0
    do {
        checkvalidate=false;
         discount=prompt("Enter discount : ");
         if (!isNaN(discount)){
             discount=Number.parseFloat(discount);
             if (discount>=0){
                 checkvalidate=true;
             }
             else {alert("discount is invaid!!! Please try again");}
         }
         else {alert("discount is invaid!!! Please try again");}
    }while(!checkvalidate)
    // nhap dung gia tri giam gia xonggggggggggggggg

    // nhap so nguoi di cung la so nguyen duong
    do {
        checkvalidate= false;
        numberOfAccomanying=prompt("Enter the numberOfAccomanying: ");
        if (!isNaN(numberOfAccomanying)){
            numberOfAccomanying=Number.parseFloat(numberOfAccomanying);
            if (numberOfAccomanying>=0&&Number.isInteger(numberOfAccomanying)){
                checkvalidate=true
            }
            else {alert("numberOfAccomanying is invaid!!! Please try again");}
        }
        else {alert("numberOfAccomanying is invaid!!! Please try again");
        }
    }while (!checkvalidate);
    // nhap so nguoi di cung la so nguyen duong xongggggggggggggggggg

    // nhap dung dinh dang CMND
      do {
          checkvalidate=false;
         idcard=prompt("enter ID Card customer: ");
      if (isNaN(idcard)){
          alert("idcard is invaid!!! Please try again");
          continue;}
      idcard= Number.parseFloat(idcard);
      if (!Number.isInteger(idcard)){
          alert("idcard is invaid!!! Please try again");
          continue;}
      if (idcard>=100000000&&idcard<=999999999){
      checkvalidate=true;
      }
      else {alert("idcard is invaid!!! Please try again ");}
      }
      while (!checkvalidate);
      // kiem tra CMND xonggggggggggggggggggggggggggggggg


    // nhap ngay sinh va kiem tra
      do {
          checkvalidate = false;
          birtdaycustomer = prompt("Enter birtday Customer(dd/MM/YYYY): ");
          if (birtdaycustomer.charAt(2) !== '/' || birtdaycustomer.charAt(5) !== '/') {
              alert("birthday is invaid!!! Please try again");
              continue;
          }
          let day = birtdaycustomer.substring(0, 2);
          let month = birtdaycustomer.substring(3, 5);
          let year = birtdaycustomer.substring(6, 10);
          if (!isNaN(day) && !isNaN(month) && !isNaN(year)) {
              day = Number.parseFloat(day);
              month = Number.parseFloat(month);
              year = Number.parseFloat(year);
              if (Number.isInteger(day) && Number.isInteger(month) && Number.isInteger(year)) {
                  if (day < 32 && day > 0 && month > 0 && month < 13 && year < 2021 && year > 1900) {
                      checkvalidate = true
                  } else {
                      alert("birthday is invaid!!! Please try again")
                  }
              }
          }
      }
      while (!checkvalidate);
       // kiem tra ngay thang xongggggggggggggggggggggggggggggggggggggggggggg

    // nhap email kiem tra dinh dang
    do{ checkvalidate=true;
        emailcustomer=prompt("Enter Email Customer: ");
    let countdoc=0;
    let countAt=0;
    for (let i=0;i<emailcustomer.length;i++){
        if (emailcustomer.charAt(i)==="@"){
            countAt ++;
        }
        if (emailcustomer.charAt(i)==="."){
            countdoc ++;
        }
    }
    if (countAt!==1 || countdoc<1){
        checkvalidate = false;
        alert("email is invalid!!! Please try again");
         }
    }
    while (!checkvalidate);
    // kiem tra email xongggggggggggggggggggggggggggggggggggggggggggggggggggggg

alert("nameCostumer :  " +nameCostumer+ "\n"+ "emailcustomer: " +emailcustomer+"\n"+"birtdaycustomer: "+birtdaycustomer+"\n"+"idcard: "+
idcard+"\n"+ "discount: "+discount+"\n"+"nameCostumer" +nameCostumer);



    // let namecustomer = prompt("Enter Name Customer: ");
    // let idcard= prompt("enter ID Card customer: ");
    // let birtdaycustomer=prompt("Enter birtday Customer(dd/MM/YYYY): ");
    // let addresscustomer=prompt("Enter address Customer: ");
    // let typecustomer=prompt("Enter typecustomer(diamond,platium,gold,silver,member) : ");
    // let discuont=prompt("Enter Discount");
    // let numberOfAccomanying=prompt("Enter Number Of Accomanying: ");
    // let typeroom=prompt("Enter Type Room(vip,business,normal) : ");
    // let rentdays=prompt("Enter Rent Days: ");
    // let typeService=prompt("Enter Type Service(villa,house,room): ");
    // let  menu;
    // let phone="";
    // let repair
    // switch (typeService) {
    //     case "villa" : a = 500; break;
    //     case "house" : a = 300;break;
    //     case "room" : a = 100;break;
    //     default:a=50;
    // }
    // let totalpays=parseFloat(a)*Number.parseFloat(rentdays)*(1-Number.parseFloat(discuont)/100);
    // while (1) {
    //     menu = prompt(
    //         "1. show information Customer\n" +
    //         "2. add information customer\n" +
    //         "3. Edit information customer\n" +
    //         "4. show the amount to be paid after discount\n"+
    //         "Chọn menu:"
    //     );
    //     if (menu === "1") {
    //         show();
    //     }else
    //     if (menu === "2") {
    //         add();
    //     }else
    //     if (menu === "3") {
    //         edit();
    //     }else
    //     if (menu === "4") {
    //         amount();
    //     }else menu="";
    // }
    // function show(){
    //     alert("Information of Customer: \n"+
    //         "\n1. Name: " + namecustomer + "\n2. Id card: " + idcard + "\n3. Phone number: "+ phone + "\n4. Birthday: " +  birtdaycustomer +
    //         "\n5. Email: " +  emailcustomer + "\n6. Address: " +  addresscustomer + "\n7. TypeCustomer: " +  typecustomer
    //         + "\n8. Discount: " + discuont+ "\n9. Accompanying: " +numberOfAccomanying + "\n10. RentDay: " +rentdays
    //         + "\n11. ServiceType: " + typeService +"\n12. roomtype: "+ typeroom+"\n13.  totalpays"+totalpays);
    // }
    // function add() {
    //     phone= prompt("phone number: ")
    // }
    //
    // function edit() {
    //     let dkChay =true;
    //     while (dkChay) {
    //         repair=parseFloat(prompt("Select the information you want to change:                              (0.exit) \n"+"\n1. Name: " + namecustomer + "\n2. Id card: " + idcard + "\n3. Phone number: "+ phone + "\n4. Birthday: " +  birtdaycustomer +
    //             "\n5. Email: " +  emailcustomer + "\n6. Address: " +  addresscustomer + "\n7. TypeCustomer: " +  typecustomer
    //             + "\n8. Discount: " + discuont+ "\n9. Accompanying: " +numberOfAccomanying + "\n10. RentDay: " +rentdays
    //             + "\n11. ServiceType: " + typeService +"\n12. roomtype: "+ typeroom));
    //         switch (repair) {
    //             case 1:namecustomer= prompt("Enter new name: ");
    //                 break;
    //             case 2:idcard=prompt("Enter new id card: ");
    //                 break;
    //             case 3:phone=prompt("Enter phone number: ");
    //                 break;
    //             case 4 : birtdaycustomer=prompt("Enter new birtdaycustomer: ");
    //                 break;
    //             case 5 : emailcustomer=prompt("Enter new email: ");
    //                 break;
    //             case 6 :addresscustomer=prompt("Enter new addresscustomer: ");
    //                 break;
    //             case 7 : typecustomer =prompt("Enter new typecustomer: ");
    //                 break;
    //             case 8 : discuont=prompt("Enter new discuont: ");
    //                 break;
    //             case 9 : numberOfAccomanying=prompt("Enter new numberOfAccomanying: ");
    //                 break;
    //             case 10 : rentdays =prompt("Enter new rentdays: ");
    //                 break;
    //             case 11 : typeService=prompt("Enter new typeService(villa,house,room): ");
    //                 break;
    //             case 12 : typeroom=prompt("Enter new typeroom: ");
    //                 break;
    //             case 0 :
    //                 dkChay="";
    //                 dkChay=false;break;
    //             default: alert('falied');}
    //     }
    // }
</script>

</body>
</html>